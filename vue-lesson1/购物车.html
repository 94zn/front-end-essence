<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>购物车</title>
    <link rel="stylesheet" type="" href="./bootstrap.css">
</head>

<body>
    <div id="app">
        <div class="container">
            <table class="table table-border">
                <thead>
                    <tr>
                        <th>商品名称</th>
                        <th>商品价格</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="iphone in iphones">
                        <!--iphone就代表数组中的每一个对象-->
                        <td>{{iphone.name}}</td>
                        <td>{{iphone.price}}</td>
                        <td>
                            <!--点击按钮删除当前项-->
                            <button class="btn" @click="removeOne(iphone)">删除</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <button class="btn btn-block btn-primary" @click="removeAll" v-show="iphones.length">全部删除</button>
            <div class="form-group">
                <label for="product_name">
                商品名称
                <input type="text" name="" value="" id="product_name" class="form-control" v-model="name">
            </label>
            </div>
            <div class="form-group">
                <label for="product_price">
                商品价格
                <input type="text" name="" value="" id="product_price" class="form-control" v-model="price">
            </label>
            </div>
            <button class="btn" @click="addProduct" type="button">添加商品</button>
            <button class="btn" @click="clear_content" type="resent">清空内容</button>
        </div>
    </div>
    <script type="text/javascript" src="./vue2.js"></script>
    <script type="text/javascript">
        new Vue({
            el: "#app",
            data: {
                price: "",
                name: "",
                iphones: [{
                    name: "iphone5",
                    price: 2488
                }, {
                    name: "iphone6",
                    price: 3488
                }, {
                    name: "iphone7",
                    price: 4488
                }]
            },
            methods: {
                removeOne(product) {
                    // 对数据重新赋值操作
                    this.iphones = this.iphones.filter(item => {
                        return item != product;
                    });
                    // 过滤满足条件的数据
                },
                removeAll() {
                    this.iphones = [];
                },
                addProduct() {
                    this.iphones.push({
                        name: this.name,
                        price: this.price
                    })
                },
                clear_content() {
                    this.price = this.name = "";
                }
            }
        })
    </script>
</body>

</html>